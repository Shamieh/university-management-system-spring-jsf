<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">

<h:head>
    <title>University System -Courses Management</title>
    <h:outputStylesheet name="studentstyle.css" library="css" />
</h:head>

<h:body>




<!-- Menubar -->
    <ui:include src="template/Header.xhtml"/>


    <p:messages id="messages" closable="true" showDetail="true" autoUpdate="true"/>

<br/>

    <p:commandButton value="Add Nationality"
                     actionListener="#{nationalityBean.resetForm()}"
                     update=":nationalityForm"
                     oncomplete="PF('nationalityDialog').show();"
                     styleClass="ui-button-success"/>

    <br/>
    <br/>

<h:form id="mainForm">

    <p:dataTable id="nationalityTable" value="#{nationalityBean.getNationalityList()}"
                    var="nationality">
        <p:column headerText="ID">#{nationality.id}</p:column>
        <p:column headerText="Name">#{nationality.name}</p:column>

        <p:column headerText="Actions">

        <!-- Edit Course -->
        <p:commandButton icon="pi pi-pencil" title="Edit"
                         actionListener="#{nationalityBean.setSelectedNationality(nationality)}"
                         update=":nationalityForm"
                         oncomplete="PF('nationalityDialog').show();"
                         styleClass="ui-button-warning" />

        <!-- Delete Course -->
        <p:commandButton icon="pi pi-trash" title="Delete"
                         actionListener="#{nationalityBean.deleteNationality(nationality)}"
                         update=":mainForm:nationalityTable :messages"
                         onclick="return confirm('Are you sure you want to delete this nationality?');"
                         styleClass="ui-button-danger"
                         padding="5"
        />
        </p:column>
    </p:dataTable>
</h:form>

<p:dialog header="Add/Edit Nationality" widgetVar="nationalityDialog"
          modal="true" resizable="false" width="400">
    <h:form id="nationalityForm">
        <h:panelGrid columns="2" cellpadding="5">
            <p:outputLabel for="name" value="Name"/>
            <p:inputText id="name" value="#{nationalityBean.selectedNationality.name}" required="true"/>

            <p:commandButton value="Save"
                             action="#{nationalityBean.saveNationality()}"
                             update=":mainForm:nationalityTable :messages"
                             oncomplete="PF('nationalityDialog').hide();"
                             style="margin-top:10px;" />
        </h:panelGrid>
    </h:form>

</p:dialog>

    <br/>
    <br/>
    <br/>

    <ui:include src="template/Footer.xhtml"/>
</h:body>

</html>
